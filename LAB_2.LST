Turbo Assembler	 Version 4.1	    04/27/25 16:59:44	    Page 1
lab_2.asm



      1	0000			     .MODEL SMALL
      2	0000			     .STACK 100h
      3
      4				     EXTRN InsBlanks: FAR
      5
      6	0000			     .DATA
      7	0000  0B 48 65 6C 6C 6F	20+	 S	DB 11, 'Hello world'   ; Исходная строка
      8	      77 6F 72 6C 64
      9	000C  14			 Len	DB 20		       ; Желаемая длина
     10	000D  FF*(??)			 Result	DB 255 DUP(?)	       ; Результат (первый байт — длина)
     11	010C  24			 EndStr	DB '$'		       ; Символ конца строки для вывода
     12
     13	010D			     .CODE
     14	0000			     Start:
     15	0000  B8 0000s			 mov ax, @data
     16	0003  8E D8			 mov ds, ax
     17
     18					 ; Вызов InsBlanks(S, Len,	Result)
     19	0005  1E			 push ds
     20	0006  B8 0000r			 lea ax, S
     21	0009  50			 push ax
     22	000A  33 C0			 xor ax, ax		      ;	Очистка AX
     23	000C  A0 000Cr			 mov al, Len		      ;	Загрузка Len в	AL
     24	000F  50			 push ax		      ;	Передаём Len как слово
     25	0010  1E			 push ds
     26	0011  B8 000Dr			 lea ax, Result
     27	0014  50			 push ax
     28	0015  9A 00000000se		 call InsBlanks
     29
     30					 ; Добавляем символ '$' в конец строки Result
     31	001A  BE 000Dr			 mov si, offset	Result
     32	001D  33 C9			 xor cx, cx
     33	001F  8A 0C			 mov cl, [si]		     ; Загружаем длину строки из Result[0]
     34	0021  8D 7C 01			 lea di, [si + 1]	     ; DI указывает на начало строки	    +
     35				     (после байта длины)
     36	0024  03 F9			 add di, cx		      ;	DI = конец	строки
     37	0026  C6 05 24			 mov byte ptr [di], '$'	      ;	Записываем '$'
     38
     39					 ; Вывод результата
     40	0029  B4 09			 mov ah, 09h
     41	002B  8D 54 01			 lea dx, [si + 1]	     ; Пропускаем байт длины
     42	002E  CD 21			 int 21h
     43
     44					 ; Завершение	программы
     45	0030  B8 4C00			 mov ax, 4C00h
     46	0033  CD 21			 int 21h
     47
     48				     END Start
Turbo Assembler	 Version 4.1	    04/27/25 16:59:44	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "04/27/25"
??FILENAME			  Text	 "lab_2	  "
??TIME				  Text	 "16:59:44"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 LAB_2
@INTERFACE			  Text	 000H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
ENDSTR				  Byte	 DGROUP:010C
INSBLANKS			  Far	 ----:---- Extern
LEN				  Byte	 DGROUP:000C
RESULT				  Byte	 DGROUP:000D
S				  Byte	 DGROUP:0000
START				  Near	 _TEXT:0000

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0100 Para	  Stack	  STACK
  _DATA				  16  010D Word	  Public  DATA
_TEXT				  16  0035 Word	  Public  CODE
