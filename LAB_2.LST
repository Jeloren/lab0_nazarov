Turbo Assembler	 Version 4.1	    06/01/25 15:10:21	    Page 1
lab_2.asm



      1	0000			     .model small
      2	0000			     .stack 100h       ; Устанавливаем размер стека (256 байт)
      3
      4				     extrn InsBlanks:near ; Объявляем внешнюю процедуру InsBlanks
      5
      6	0000			     .data
      7	0000  48 65 6C 6C 6F 20	61+	 input_string  db 'Hello asm',0	; Исходная строка
      8	      73 6D 00
      9	000A  001A			 k	       dw 26		     ; Желаемая	длина
     10	000C  0100*(24)			 result_buffer db 256 dup('$')	     ; Буфер для результата
     11	010C  14*(0000)			 words_buffer  dw 20 dup(0)	     ; Массив указателей на слова
     12	0134  0100*(24)			 temp_buffer   db 256 dup('$')	     ; Буфер для нормализованной	    +
     13				     строки
     14	0234  0D 0A 24			 newline       db 13,10,'$'	     ; Перевод строки (CR+LF)
     15
     16	0237			     .code
     17	0000			     main proc
     18	0000  B8 0000s			 mov ax, @data	; Загружаем адрес	данных в	DS и ES
     19	0003  8E D8			 mov ds, ax
     20	0005  8E C0			 mov es, ax
     21
     22					 ; Вызов InsBlanks	с 5 параметрами:
     23	0007  50 55 8B EC C7 46	02+	 push offset input_string   ; Адрес исходной строки
     24	      0000r 5D
     25	0011  FF 36 000Ar		 push k			    ; Желаемая длина
     26	0015  50 55 8B EC C7 46	02+	 push offset result_buffer  ; Буфер для	результата
     27	      000Cr 5D
     28	001F  50 55 8B EC C7 46	02+	 push offset words_buffer   ; Буфер для	массива слов
     29	      010Cr 5D
     30	0029  50 55 8B EC C7 46	02+	 push offset temp_buffer    ; Буфер для	нормализованной строки
     31	      0134r 5D
     32	0033  E8 0000e			 call InsBlanks
     33
     34					 ; Выводим результат
     35	0036  B4 09			 mov ah, 09h
     36	0038  BA 000Cr			 lea dx, result_buffer
     37	003B  CD 21			 int 21h
     38
     39					 ; Выводим перевод строки
     40	003D  BA 0234r			 lea dx, newline
     41	0040  CD 21			 int 21h
     42
     43					 ; Завершаем программу
     44	0042  B8 4C00			 mov ax, 4C00h
     45	0045  CD 21			 int 21h
     46	0047			     main endp
     47
     48				     end main
Turbo Assembler	 Version 4.1	    06/01/25 15:10:21	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "06/01/25"
??FILENAME			  Text	 "lab_2	  "
??TIME				  Text	 "15:10:21"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 LAB_2
@INTERFACE			  Text	 000H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
INPUT_STRING			  Byte	 DGROUP:0000
INSBLANKS			  Near	 ----:---- Extern
K				  Word	 DGROUP:000A
MAIN				  Near	 _TEXT:0000
NEWLINE				  Byte	 DGROUP:0234
RESULT_BUFFER			  Byte	 DGROUP:000C
TEMP_BUFFER			  Byte	 DGROUP:0134
WORDS_BUFFER			  Word	 DGROUP:010C

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0100 Para	  Stack	  STACK
  _DATA				  16  0237 Word	  Public  DATA
_TEXT				  16  0047 Word	  Public  CODE
